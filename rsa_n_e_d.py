import random
from gmpy2 import *
 
def gcd(a, b):
   if a < b:
     a, b = b, a
   while b != 0:
     temp = a % b
     a = b
     b = temp
   return a
 
def getpq(n,e,d):
	p = 1
	q = 1
	while p==1 and q==1:
		k = d * e - 1
		g = random.randint ( 0 , n )
		while p==1 and q==1 and k % 2 == 0:
			k = k// 2
			y = pow(g,k,n)
			if y!=1 and gcd(y-1,n)>1:
				p = gcd(y-1,n)
				q = n//p
	return p,q
 
def main():

	n = mpz(21501471247945023957385986200981202127034580573253945001917269504646736497311808880203010975877639629414708583739442948886604457073003529598513380801520530292320751574442159606975791642106967364825414688039752203950188531951603894338202500756766434484224362282059361837451130920521392197434386430615931737588135002801621089197858798212609180442231036645009139031467515635475337350023084707719157350150709164891985025979958184056210185024270522646426342603444220907751731970079324986884040015103377566926573311856154552691617546349866132382390059147340977391239594754921042569239894498937370789106554879045184264661717)
	e = (65537)
	d = (12495308511973910652623749491898775717689839872330893225857471754184286833950555457396766346144556249536728735222857685754538922319947700204296513743484000132952807489879062068621999793723941575853956449161267718077526899734635181954693996426784967633034302178532933380245720314310660287036117637310807271583541166141145740451420760174097158286185064973480233508803111906395734377519011352596218860130017108039035405151349635895136231918677625190396028277162603169032482559716379377326702358991887782015210084095047913077419045377991887425638435427063330609561048615802749597398473717330873124217736802534086944479041)
    
	p,q = getpq(n,e,d)
	print (p,q)
 
if __name__ == '__main__':
	main()
 
